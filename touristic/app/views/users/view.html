#{extends 'main.html' /} #{set title:'User' /}
#{set 'moreScripts'}
#{/set}
<table class="entityblock">
	<tr>
		<td>
			<h2>&{'entity.user'} #{if user.id!=null}"${user.login}"#{/if}</h2>
			<div class="entitybacktolist">#{a @Users.list()}&{'entity.details.back.to.list'}#{/a}</div>
			<form method="GET" action="">
			<table class="entitytable">
				<tr>
					<td>
						<table class="width100p">
        					#{c.field 'user.active'}
							<tr>
								<td class="entitylabelcolumn"><label>&{'entity.details.active'}: </label></td>
								<td>
									#{radioOnOff class:field.errorClass, name:field.name, value: field.value, error: field.error, editable: editable /}
								</td>
							</tr>
							#{/c.field}
							#{c.field 'user.login'}
							<tr>
								<td class="entitylabelcolumn"><label for="${field.id}">&{'entity.users.login'}: </label></td>
								<td>
									<input id="${field.id}" name="${field.name}" type="text" class="${field.errorClass}" value="${field.value}" ${editable} />
									#{if field.error}
									<span class="error">${field.error}</span>
									#{/if}
								</td>
							</tr>
							#{/c.field}
							#{c.field 'user.email'}
							<tr>
								<td class="entitylabelcolumn"><label for="${field.id}">&{'entity.users.email'}: </label></td>
								<td>
									<input id="${field.id}" name="${field.name}" type="text" class="${field.errorClass}" value="${field.value}" ${editable} />
									#{if field.error}
									<span class="error">${field.error}</span>
									#{/if}
								</td>
							</tr>
							#{/c.field}
							#{c.field 'user.passwordChange'}
							<tr>
								<td class="entitylabelcolumn"><label for="${field.id}">&{'entity.users.password'}: </label></td>
								<td>
									<input id="${field.id}" name="${field.name}" type="text" class="${field.errorClass}" value="${field.value}" ${editable} />
									#{if field.error}
									<span class="error">${field.error}</span>
									#{/if}
								</td>
							</tr>
							#{/c.field}
							#{c.field 'user.passwordConfirmation'}
							<tr>
								<td class="entitylabelcolumn"><label for="${field.id}">&{'entity.users.password.confirmation'}: </label></td>
								<td>
									<input id="${field.id}" name="${field.name}" type="text" class="${field.errorClass}" value="${field.value}" ${editable} />
									#{if field.error}
									<span class="error">${field.error}</span>
									#{/if}
								</td>
							</tr>
							#{/c.field}
							#{c.field 'user.roles'}
							<!-- <tr>
								<td class="entitylabelcolumn"><label for="${field.id}">&{'entity.hotelcategory.code'}: </label></td>
								<td>
									<input id="${field.id}" name="${field.name}" type="text" class="${field.errorClass}" value="${field.value}" ${editable} />
									#{if field.error}
									<span class="error">${field.error}</span>
									#{/if}
								</td>
							</tr> -->
							#{/c.field}
							<tr>
								<td colspan="2">
									<input type="hidden" name="user.id" value="${user.id}"/>
									#{if "".equals(editable)}
										<input class="actionbutton" type="submit" name="do.save" value="&{'entity.details.save'}"/>
									#{/if}
									#{else}
										<input class="actionbutton" type="submit" name="do.edit" value="&{'entity.details.edit'}"/>
									#{/else}
								</td>
							</tr>
						</table>
					</td>
					<td class="entityCommentsColumn">
						#{entityComments  entityName:'user', entityId:user.id /}
					</td>
				</tr>				
			</table>
			</form>
		</td>
	</tr>
</table>